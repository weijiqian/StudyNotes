### **1 ODS** 层

(1)保持数据原貌不做任何修改，起到备份数据的作用。

(2)数据采用压缩，减少磁盘存储空间(例如:原始数据 100G，可以压缩到 10G 左 右)

(3)创建分区表，防止后续的全表扫描

### **2 DWD** 层

1. DWD 层需构建维度模型，一般采用星型模型，呈现的状态一般为星座模型。 维度建模一般按照以下四个步骤:
    选择业务过程→声明粒度→确认维度→确认事实

   例如:商品表+品类表+spu表==商品表

   省份表+地区表==地区表

2. 数据清洗,专门的ETL职位.

3. 脱敏(身份证号,手机号,个人信息)





DWS 和 DWT 都是建宽表，宽表都是按照主题去建。主题相当于观察问题的角度。对 应着维度表。

### **3 DWS** 层

 统计各个主题对象的当天行为，服务于 DWT 层的主题宽表，以及一些业务明细数据，

应对特殊需求(例如，购买行为，统计商品复购率)。



### **4 DWT** 层 

以分析的主题对象为建模驱动，基于上层的应用和产品的指标需求，构建主题对象的全

量宽表。

从开始创建,一直到现在积累的数据

### **5 ADS** 层

具体报表

给老板看的,比如说:日活,越活,GMV.



### 为什么数仓分层

减少重复操作.

方便问题定位.

隔离原始数据.